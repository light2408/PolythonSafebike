<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../bower_components/polymerfire/firebase-app.html" />
<link rel="import" href="../bower_components/polymerfire/firebase-auth.html" />

<!-- <link rel="import" href="/bower_components/login-fire/login-fire-form.html" /> -->
<link rel="import" href="../bower_components/login-fire/login-fire-button.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/neon-animation/web-animations.html">
 <link rel="import" href="../bower_components/neon-animation/neon-animations.html">

<link rel="import" href="../bower_components/polymer/polymer-element.html" />

<link rel="import" href="shared-styles.html" />

<dom-module id="my-view1">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 100px;
      }
      div{
        text-align: center;
      }
      
        paper-dialog.colored {
          border: 2px solid;
          border-color: #4caf50;
          background-color: #f1f8e9;
          color: #4caf50;
        }

        paper-dialog.size-position {
          position: fixed;
          top: 16px;
          right: 16px;
          width: 300px;
          height: 300px;
          overflow: auto;
  }
</style>

<div class="card">
  <div class="header"><h1>Login</h1></div>
  
  <div>
    <firebase-app
    auth-domain="safebike-76cfa.firebaseapp.com"
    database-url="https://safebike-76cfa.firebaseio.com/"
    api-key="AIzaSyBm9AVSAJ0Ds6GHk2w6_2OB9m-cD45hh_M"
    storage-bucket="safebike-76cfa.appspot.com"
    messaging-sender-id="756378587211"
  >
  </firebase-app> 

 <div>
  
  <login-fire-button app-name="button" provider="google"on-click="onButtonClick"></login-fire-button>
 </div>
  <firebase-auth
    id="auth"
    user="{{ user }}"
    provider="google"
    on-error="(handleError)"
  >
  </firebase-auth> 
  
</div>

</div>

<!-- 
<paper-button raised on-click="this.$.animated.open()">Login</paper-button>
<paper-dialog id="animated" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop> -->
 <!--  <h2>Login</h2>
  
  <div class>
     <firebase-app
        auth-domain="safebike-76cfa.firebaseapp.com"
        database-url="https://safebike-76cfa.firebaseio.com/"
        api-key="AIzaSyBm9AVSAJ0Ds6GHk2w6_2OB9m-cD45hh_M"
        storage-bucket="safebike-76cfa.appspot.com"
        messaging-sender-id="756378587211"
    >
    </firebase-app> 

    <login-fire-button app-name="button" provider="google"on-click="onButtonClick"></login-fire-button>

    <firebase-auth
        id="auth"
        user="{{ user }}"
        provider="google"
        on-error="(handleError)"
    >
    </firebase-auth>

  </div> -->
<!-- </paper-dialog> -->

  
  </template>

  <script>
    class MyView1 extends Polymer.Element {
        static get is() {
          return "my-view1";
        }
        
        static get properties() {
          return {
            page: {
              type: String,
              notify: true
            }
          }
        }
        
        constructor() {
          super();
        }

        onButtonClick() {
          this.$.auth.signInWithPopup()
            .then( response => {

              this.set('page', 'view2')
            })
            .catch(function (error) { console.log(error) });
        }

      }

      window.customElements.define(MyView1.is, MyView1);
  </script>
</dom-module>
